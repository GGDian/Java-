## RDB

优点：

* 灵活设置备份的频率和周期；可以每小时备份一次最近一天的数据，也可以每一天备份一次最近30天的数据
* 适合做冷备份，可以将备份好的压缩文件放到其他存储介质，一旦出现故障，可以立马拿下来进行数据恢复
* 恢复更快，相比 AOF ，RDB 的恢复速度更快

缺点：

* 一旦系统宕机，此前没有来得及写入磁盘的数据都将丢失
* 由于 RDB 持久化是 fork 一个子进程的模式，这个进程操作可能会影响到 RDB 对外提供服务的性能



## AOF

优化：

* 有三种备份策略可选择，每执行一个命令操作备份一次，每秒备份一次，不进行备份；我们正常选第二种，当系统宕机时，只会丢失那一秒的数据
* 该机制下对日志的写入操作是追加写，因此在写入过程中即使系统出现宕机，也不会破坏日志文件中已经存在的内容